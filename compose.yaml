services:
  nginx:
    image: nginx
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
    ports:
      - 5000:80
  database:
    image: postgres:17.5
    hostname: notes-database
    env_file:
      - database.env
    volumes:
      - notes-data:/var/lib/postgresql/data
    ports:
      - 5432:5432
  auth-service:
    build: ./AuthService
    hostname: notes-auth-service
    volumes:
      - ./AuthServiceSettings.json:/app/appsettings.json:ro

volumes:
  notes-data:
