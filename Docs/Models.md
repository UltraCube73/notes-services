### [На главную](../README.md)
# Модели данных
Модели хранимых данных определяются в сервисах UserService и NotesService в подпапке Data/Model. EntityFramework автоматически создает базы данных в соответствии с моделями в том случае, если на момент запроса к СУБД они еще не существуют.

Модели страниц и DTO описываться не будут.

### Данные UserService

#### User

Опредедение сущности пользователя.

| Поле | Тип в БД | Тип в определении | Описание |
| ----- | ----- | ----- | ----- |
| Id | uuid | Guid | Уникальный идентификатор |
| Login | text | string | Логин/никнейм |
| Email | text | string | Почта |
| PasswordHash | bytea | byte[] | Хэш пароля |
| PasswordSalt | bytea | byte[] | Шум, используемый при хэшировании |

Шифрование столбцов Login и Email не используется по причине невозможности проведения операций с фильтром по ним.

### Данные NotesService

#### Category

Определение сущности категории заметок.

| Поле | Тип в БД | Тип в определении | Описание |
| ----- | ----- | ----- | ----- |
| Id | uuid | Guid | Уникальный идентификатор |
| OwnerId | uuid | Guid | ID владельца категории |
| Name | bytea | string | Название категории |
| Notes | | List\<Note> | Спикок экземпляров Note, которые ссылаются на этот объект |

Поле Name зашифровано Asp.Net DataProtection.

#### Note

Определение сущности заметки.

| Поле | Тип в БД | Тип в определении | Описание |
| ----- | ----- | ----- | ----- |
| Id | uuid | Guid | Уникальный идентификатор |
| Text | bytea | string | Текст заметки |
| CategoryId | uuid | Guid | ID категории |
| Category | | Category | Экземпляр Category, на который ссылается CategoryId |

Поле Text зашифровано Asp.Net DataProtection.
